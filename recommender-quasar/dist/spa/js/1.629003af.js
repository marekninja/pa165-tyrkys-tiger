(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"58bf":function(t,e,a){},"713b":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",{attrs:{view:"hHh lpR lff"}},[a("q-header",{staticClass:"bg-primary text-white",attrs:{elevated:""}},[a("q-toolbar",[a("q-btn",{attrs:{dense:"",flat:"",round:"",icon:"menu"},on:{click:function(e){t.leftDrawerOpen=!t.leftDrawerOpen}}}),a("q-toolbar-title",[a("q-avatar",[a("q-img",{attrs:{src:"/icons/favicon-32x32.png",srcset:"/icons/favicon-32x32.png 300w,\n                      /icons/favicon-96x96.png 3x,\n                      /icons/favicon-128x128.png 4x"}})],1),t._v("\n        Movie Recommender System\n      ")],1),a("q-btn",{staticClass:"q-mr-xs",attrs:{flat:"",round:"",dense:"",icon:"login"},on:{click:function(e){t.loginDialogVisible=!0}}}),a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:t.dark_mode},on:{click:t.darkToggle}})],1)],1),a("LoginDialog",{ref:"loginDialog",model:{value:t.loginDialogVisible,callback:function(e){t.loginDialogVisible=e},expression:"loginDialogVisible"}}),a("q-drawer",{attrs:{side:"left",overlay:"",elevated:""},model:{value:t.leftDrawerOpen,callback:function(e){t.leftDrawerOpen=e},expression:"leftDrawerOpen"}},[a("q-list",[a("q-item-label",{staticClass:"text-grey-8",attrs:{header:""}},[t._v("\n        Essential Links\n      ")]),t._l(t.essentialLinks,(function(e){return a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:e.to,staticClass:"row",attrs:{to:e.to,clickable:"",exact:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:e.icon}})],1),a("q-item-section",[a("q-item-label",[t._v(" "+t._s(e.label)+" ")])],1)],1)}))],2)],1),a("q-page-container",{staticClass:"container-width "},[a("router-view")],1),a("q-footer",{staticClass:"bg-grey-8 text-white row ",attrs:{bordered:""}},[a("q-toolbar",[a("q-toolbar-title",{staticClass:"row justify-center items-center q-gutter-md"},[a("q-avatar",[a("q-img",{attrs:{src:"/icons/favicon-32x32.png",srcset:"/icons/favicon-32x32.png 300w,\n                      /icons/favicon-96x96.png 3x,\n                      /icons/favicon-128x128.png 4x"}})],1),a("div",[t._v("\n        Tyrkis Tiger Â© 2021\n        ")])],1)],1)],1)],1)},i=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-item",{attrs:{clickable:"",tag:"a",target:"_blank",href:t.link}},[t.icon?a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:t.icon}})],1):t._e(),a("q-item-section",[a("q-item-label",[t._v(t._s(t.title))]),a("q-item-label",{attrs:{caption:""}},[t._v("\n      "+t._s(t.caption)+"\n    ")])],1)],1)},o=[],r={name:"EssentialLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},link:{type:String,default:"#"},icon:{type:String,default:""}}},l=r,c=a("2877"),d=a("66e5"),u=a("4074"),g=a("0016"),m=a("0170"),p=a("eebe"),f=a.n(p),h=Object(c["a"])(l,n,o,!1,null,null,null),b=h.exports;f()(h,"components",{QItem:d["a"],QItemSection:u["a"],QIcon:g["a"],QItemLabel:m["a"]});var q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-dialog",{attrs:{value:t.value},on:{input:function(e){return t.$emit("input",e)}}},[a("q-card",{staticClass:"q-px-sm q-pb-md",staticStyle:{"max-width":"500px"}},[t.loggedIn?a("q-form",{staticClass:"q-gutter-md",on:{submit:t.handleLogout}},[a("q-card-section",[a("div",{staticClass:"text-h4"},[t._v("\n            User:\n          ")])]),a("q-card-section",{staticClass:"text-h4"},[t._v("\n          "+t._s(this.$store.getters["auth/user"].username)+"\n        ")]),a("q-card-section",[a("q-btn",{attrs:{label:"Log out",type:"submit",color:"secondary"}})],1)],1):a("q-form",{staticClass:"q-gutter-md",on:{submit:t.handleLogin,reset:t.loginReset}},[a("q-card-section",[a("div",{staticClass:"text-h3"},[t._v("\n            Log in:\n          ")])]),a("q-card-section",[a("q-input",{attrs:{filled:"",label:"Username","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Please type something"}]},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}})],1),a("q-card-section",[a("q-input",{attrs:{label:"Password",filled:"",type:t.isPwd?"password":"text"},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"visibility_off":"visibility"},on:{click:function(e){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),a("q-card-section",[a("q-btn",{attrs:{label:"Submit",type:"submit",color:"primary"}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Reset",type:"reset",color:"primary",flat:""}})],1)],1)],1)],1)},v=[];class w{constructor(t,e,a){this.username=t,this.email=e,this.password=a}}var y=a("1069"),k={props:["value"],data(){return{user:new w("",""),dialog:!0,loading:!1,message:"",isPwd:!0}},computed:{loggedIn(){return this.$store.getters["auth/loggedIn"]}},created(){console.log("logged in: ",this.$store.getters["auth/loggedIn"]),console.log("vue",JSON.stringify(this.$auth,null,1)),console.log("fun: ",JSON.stringify(this.$fun,null,1))},methods:{handleLogin(){this.loading=!0,this.user.username&&this.user.password&&this.$store.dispatch("auth/login",this.user).then((()=>{y["a"].notifyPosit("Logged in succesfullly"),this.$axios.get("/users/nickname/"+this.user.username).then((t=>{y["a"].notifyPosit("got resp.data: "+JSON.stringify(t.data));var e=t.data;e.password=this.user.password,this.$store.dispatch("auth/storeFullUser",e),this.$router.push("/recommended")})).catch((t=>{y["a"].notifyNegat("Failed getting full user")}))}),(t=>{this.loading=!1,this.message=t.response&&t.response.data||t.message||t.toString(),y["a"].notifyNegat(this.message)}))},handleLogout(){this.$store.dispatch("auth/logout"),this.$router.push("/")},loginReset(){this.user=new w("","")}}},x=k,_=a("24e8"),Q=a("f09f"),$=a("0378"),C=a("a370"),L=a("9c40"),S=a("27f9"),D=Object(c["a"])(x,q,v,!1,null,null,null),I=D.exports;f()(D,"components",{QDialog:_["a"],QCard:Q["a"],QForm:$["a"],QCardSection:C["a"],QBtn:L["a"],QInput:S["a"],QIcon:g["a"]});const O=[{label:"Browse",icon:"search",to:"/"},{label:"Recommended",icon:"theaters",to:"/recommended"},{label:"My Account",icon:"account_circle",to:"/user"},{label:"Administrator",icon:"verified_user",to:"/admin"}];var P={name:"MainLayout",components:{EssentialLink:b,LoginDialog:I},data(){return{leftDrawerOpen:!1,essentialLinks:O,dark_mode:"dark_mode",loginDialogVisible:!1,slideVol:39,slideAlarm:56,slideVibration:63,nickname:"",password:"",isPwd:!0}},methods:{darkToggle(){this.$q.dark.set(!this.$q.dark.isActive),this.$q.dark.isActive?this.dark_mode="light_mode":this.dark_mode="dark_mode"},onSubmit(){this.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Submitted"}),this.$store.dispatch("global/saveNickname",this.nickname),this.$store.dispatch("global/savePassword",this.password)}}},N=P,R=(a("fd1f"),a("4d5a")),T=a("e359"),V=a("65c6"),A=a("6ac5"),E=a("cb32"),F=a("068f"),J=a("9404"),j=a("1c1c"),B=a("09e3"),M=a("7ff0"),U=a("714f"),H=Object(c["a"])(N,s,i,!1,null,"ac016a1e",null);e["default"]=H.exports;f()(H,"components",{QLayout:R["a"],QHeader:T["a"],QToolbar:V["a"],QBtn:L["a"],QToolbarTitle:A["a"],QAvatar:E["a"],QImg:F["a"],QDialog:_["a"],QCard:Q["a"],QForm:$["a"],QCardSection:C["a"],QInput:S["a"],QIcon:g["a"],QDrawer:J["a"],QList:j["a"],QItemLabel:m["a"],QItem:d["a"],QItemSection:u["a"],QPageContainer:B["a"],QFooter:M["a"]}),f()(H,"directives",{Ripple:U["a"]})},fd1f:function(t,e,a){"use strict";a("58bf")}}]);
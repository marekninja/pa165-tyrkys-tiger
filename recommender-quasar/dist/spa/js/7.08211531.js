(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{a4f5:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{staticClass:"flex flex-center column"},[a("div",{staticClass:"text-h2 q-my-sm"},[e._v("\n        Genres:\n    ")]),a("q-btn",{staticClass:"absolute-bottom-right",attrs:{size:"xl",round:"",dense:"",color:"primary q-ma-md",icon:"add"},on:{click:e.createGenre}}),e.create_genre_dialog?a("CreateGenreDialog",{staticClass:"absolute",model:{value:e.create_genre_dialog,callback:function(t){e.create_genre_dialog=t},expression:"create_genre_dialog"}}):e._e(),a("q-list",{staticClass:"rounded-borders column q-gutter-sm",staticStyle:{"min-width":"400px"},attrs:{padding:"",separator:"",bordered:""}},e._l(e.genres,(function(t){return a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t.id,staticClass:"row justify-around",attrs:{clickable:"",exact:""}},[a("q-item-section",{staticClass:"q-mx-sm col-1"},[a("q-item-label",[e._v(" "+e._s(t.id))])],1),a("q-item-section",{staticClass:"q-mx-sm col-8"},[a("q-input",{staticClass:"q-my-none q-py-none",attrs:{filled:"",label:"Name",rules:[function(e){return e&&e.length>0||"Please type something"},function(e){return e&&e.length<50||"Can not be more than 50 chars"}]},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"genre.name"}})],1),a("q-item-section",{staticClass:"q-mx-sm col-3"},[a("div",{staticClass:"row no-wrap"},[a("div",{staticClass:"q-mx-sm"},[a("q-btn",{staticClass:"gt-xs",attrs:{size:"12px",flat:"",dense:"",round:"",icon:"delete",color:"negative"},on:{click:function(a){return e.confirmDelete(t)}}})],1),a("div",{staticClass:"q-mx-sm"},[a("q-btn",{staticClass:"gt-xs",attrs:{size:"12px",flat:"",dense:"",round:"",icon:"edit",color:"negative"},on:{click:function(a){return e.updateGenre(t)}}})],1)])])],1)})),1)],1)},s=[],i=a("1069"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{attrs:{padding:""}},[a("q-dialog",{attrs:{value:e.value},on:{input:function(t){return e.$emit("input",t)}}},[a("q-card",{staticStyle:{"min-width":"350px"}},[a("q-card-section",[a("span",{staticClass:"text-h4"},[e._v("\n              Create genre:\n          ")])]),a("q-form",{staticClass:"q-mx-auto",staticStyle:{"max-width":"400px"},on:{submit:e.submit}},[a("q-card-section",[a("q-input",{staticClass:"q-my-sm",attrs:{filled:"",label:"Name",rules:[function(e){return e&&e.length>0||"Please type something"},function(e){return e&&e.length<50||"Can not be more than 50 chars"}]},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),a("q-card-actions",[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel",color:"negative"}}),a("q-btn",{attrs:{flat:"",label:"Create",type:"submit",color:"positive"}})],1)],1)],1)],1)],1)},o=[],l={name:"CreateGenre",props:{value:{}},data(){return{name:null}},computed:{},methods:{submit(){var e={name:this.name};console.log("genre to create: ",JSON.stringify(e)),this.$axios.post("/genres/create",e).then((e=>{i["a"].notifyPosit("Genre created! id: ",e.data.id),this.$router.go()})).catch((e=>{i["a"].notifyNegatResp("Could not Ã§reate")}))},onRejected(e){this.$q.notify({type:"negative",message:`${e.length} file(s) did not pass validation constraints`})}}},c=l,d=a("2877"),u=a("9989"),m=a("24e8"),p=a("f09f"),g=a("a370"),f=a("0378"),h=a("27f9"),q=a("4b7e"),C=a("9c40"),b=a("7f67"),v=a("eebe"),x=a.n(v),y=Object(d["a"])(c,r,o,!1,null,null,null),_=y.exports;x()(y,"components",{QPage:u["a"],QDialog:m["a"],QCard:p["a"],QCardSection:g["a"],QForm:f["a"],QInput:h["a"],QCardActions:q["a"],QBtn:C["a"]}),x()(y,"directives",{ClosePopup:b["a"]});var w={components:{CreateGenreDialog:_},name:"AdminGenres",created:function(){this.getGenres()},data:function(){return{genres:[],create_genre_dialog:null,genreClicked:null}},methods:{createGenre(){this.create_genre_dialog=!0},updateGenre(e){this.$axios.put("/genres/update",e).then((e=>{i["a"].notifyPosit("Genre updated!"),this.$router.go()})).catch((e=>{i["a"].notifyNegatResp("Could not update")}))},confirmDelete(e){this.$q.dialog({title:"Confirm",message:'Do you want to delete genre "'+e.name+'"?',cancel:!0,persistent:!0}).onOk((()=>{this.deleteGenre(e.id)}))},deleteGenre(e){this.$axios.delete("/genres/"+e).then((e=>{this.$router.go()})).catch((e=>{i["a"].notifyNegat("Could not delete")}))},getGenres(){this.$axios.get("/genres").then((e=>{this.genres=e.data._embedded.genreDTOList})).catch((e=>{i["a"].notifyNegatResp(e)}))}}},G=w,Q=a("1c1c"),$=a("66e5"),k=a("4074"),N=a("0170"),D=a("714f"),P=Object(d["a"])(G,n,s,!1,null,null,null);t["default"]=P.exports;x()(P,"components",{QPage:u["a"],QBtn:C["a"],QList:Q["a"],QItem:$["a"],QItemSection:k["a"],QItemLabel:N["a"],QInput:h["a"]}),x()(P,"directives",{Ripple:D["a"]})}}]);
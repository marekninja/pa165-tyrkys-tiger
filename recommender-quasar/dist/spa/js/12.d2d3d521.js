(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{3386:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{attrs:{padding:""}},[a("span",{staticClass:"text-h2"},[t._v("\n    Update user data:\n  ")]),a("q-form",{staticClass:"q-mx-auto column justify-center",staticStyle:{"max-width":"400px"},on:{submit:t.submit}},[a("q-input",{attrs:{filled:"",label:"Nickname",rules:[function(t){return t&&t.length>0||"Please type something"},function(t){return t&&t.length<50||"Can not be more than 50 chars"}]},model:{value:t.userData.nickName,callback:function(e){t.$set(t.userData,"nickName",e)},expression:"userData.nickName"}}),a("q-input",{attrs:{filled:"",autogrow:"",label:"Name","lazy-rules":"",rules:[function(t){return t&&t.length>0||"Please type something"},function(t){return t&&t.length<255||"Can not be more than 255 chars"}]},model:{value:t.userData.name,callback:function(e){t.$set(t.userData,"name",e)},expression:"userData.name"}}),a("q-input",{attrs:{type:"email",filled:"",autogrow:"",label:"E-mail",rules:[function(t){return t&&t.length>0||"Please type something"},function(t){return t&&t.length<255||"Can not be more than 255 chars"}]},model:{value:t.userData.email,callback:function(e){t.$set(t.userData,"email",e)},expression:"userData.email"}}),a("q-input",{attrs:{label:"Password",filled:"",type:t.isPwd?"password":"text"},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"visibility_off":"visibility"},on:{click:function(e){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.userData.password,callback:function(e){t.$set(t.userData,"password",e)},expression:"userData.password"}}),a("q-date",{staticClass:"q-mx-auto",attrs:{mask:"YYYY-MM-DD","default-view":"Calendar",options:t.notFutureYear,"navigation-max-year-month":t.max_year_month},model:{value:t.userData.dateOfBirth,callback:function(e){t.$set(t.userData,"dateOfBirth",e)},expression:"userData.dateOfBirth"}}),a("div",{staticClass:"row justify-center"},[a("q-btn",{attrs:{flat:"",label:"Update",type:"submit",color:"positive"}})],1)],1)],1)},n=[],r=(a("5319"),a("bf19"),a("1069")),i={name:"UserHome",data(){return{isPwd:!0,userData:{nickName:null,name:null,email:null,dateOfBirth:null,password:null}}},created:function(){this.getUserPaswordless()},computed:{max_year_month:function(){return(new Date).toJSON().slice(0,7).replace(/-/g,"/")}},methods:{getUserPaswordless(){this.userData=this.$store.getters["auth/user"],this.$axios.get("/users/nickname/"+this.$store.getters["auth/user"].username).then((t=>{this.userData=t.data,this.userData.password=this.$store.getters["auth/userFull"].password})).catch((t=>{r["a"].notifyNegatResp(t)}))},submit(){this.$axios.put("/users/update",this.userData).then((t=>{r["a"].notifyPosit("Updated! Login with new credentials."),this.$store.dispatch("auth/logout"),this.$$router.push("/")})).catch((t=>{r["a"].notifyNegatResp(t)}))},notFutureYear(){return new Date(this.userData.dateOfBirth)<=new Date}}},u=i,o=a("2877"),l=a("9989"),c=a("0378"),d=a("27f9"),m=a("0016"),h=a("52ee"),p=a("9c40"),f=a("eebe"),w=a.n(f),D=Object(o["a"])(u,s,n,!1,null,null,null);e["default"]=D.exports;w()(D,"components",{QPage:l["a"],QForm:c["a"],QInput:d["a"],QIcon:m["a"],QDate:h["a"],QBtn:p["a"]})}}]);